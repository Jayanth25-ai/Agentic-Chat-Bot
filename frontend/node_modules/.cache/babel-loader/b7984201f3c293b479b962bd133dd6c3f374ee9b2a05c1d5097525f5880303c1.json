{"ast":null,"code":"var _jsxFileName = \"D:\\\\CHAT-BOT\\\\frontend\\\\src\\\\pages\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { api } from '../lib/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chat() {\n  _s();\n  const [input, setInput] = useState('');\n  const [msgs, setMsgs] = useState([]); // { role: 'user'|'assistant', content }\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  async function send(e) {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    const text = input.trim();\n    if (!text) return;\n    const history = msgs.map(m => ({\n      role: m.role,\n      content: m.content\n    }));\n    setMsgs(prev => [...prev, {\n      role: 'user',\n      content: text\n    }]);\n    setInput('');\n    setLoading(true);\n    setError('');\n    try {\n      var _data$data;\n      const {\n        data\n      } = await api.post('/chat', {\n        message: text,\n        history\n      });\n      const reply = (data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.replyText) || 'Okay.';\n      setMsgs(prev => [...prev, {\n        role: 'assistant',\n        content: reply\n      }]);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to process message');\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid\",\n    style: {\n      gap: '1rem'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        maxWidth: 860,\n        margin: '0 auto',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxHeight: '55vh',\n          overflowY: 'auto',\n          paddingBottom: '.5rem'\n        },\n        children: [msgs.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#6b7280',\n            fontSize: '.9rem'\n          },\n          children: \"Try: \\\"Add a task\\\", \\\"Show my tasks\\\", or ask for help.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this), msgs.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: m.role === 'user' ? 'flex-end' : 'flex-start',\n            margin: '.5rem 0'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border\",\n            style: {\n              background: m.role === 'user' ? '#111827' : '#ffffff',\n              color: m.role === 'user' ? '#fff' : '#111827',\n              padding: '.5rem .75rem',\n              borderRadius: '.5rem',\n              maxWidth: '85%'\n            },\n            children: m.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: send,\n        className: \"grid\",\n        style: {\n          gap: '.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"input\",\n          rows: 3,\n          placeholder: \"Ask anything, e.g. 'Add a task for today'\",\n          value: input,\n          onChange: e => setInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'crimson',\n            fontSize: '.875rem'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          disabled: loading,\n          children: loading ? 'Thinking...' : 'Send'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"SGAZkQ0zbDnkwhyP0Cg3/wvrddg=\");\n_c = Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","Chat","_s","input","setInput","msgs","setMsgs","loading","setLoading","error","setError","send","e","preventDefault","text","trim","history","map","m","role","content","prev","_data$data","data","post","message","reply","replyText","err","_err$response","_err$response$data","response","className","style","gap","children","maxWidth","margin","width","maxHeight","overflowY","paddingBottom","length","color","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","i","display","justifyContent","background","padding","borderRadius","onSubmit","rows","placeholder","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["D:/CHAT-BOT/frontend/src/pages/Chat.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { api } from '../lib/auth';\r\n\r\nexport default function Chat() {\r\n  const [input, setInput] = useState('');\r\n  const [msgs, setMsgs] = useState([]); // { role: 'user'|'assistant', content }\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  async function send(e) {\r\n    e?.preventDefault();\r\n    const text = input.trim();\r\n    if (!text) return;\r\n\r\n    const history = msgs.map(m => ({ role: m.role, content: m.content }));\r\n    setMsgs(prev => [...prev, { role: 'user', content: text }]);\r\n    setInput('');\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const { data } = await api.post('/chat', { message: text, history });\r\n      const reply = data?.data?.replyText || 'Okay.';\r\n      setMsgs(prev => [...prev, { role: 'assistant', content: reply }]);\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || 'Failed to process message');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid\" style={{ gap: '1rem' }}>\r\n      <div className=\"card\" style={{ maxWidth: 860, margin: '0 auto', width: '100%' }}>\r\n        <div style={{ maxHeight: '55vh', overflowY: 'auto', paddingBottom: '.5rem' }}>\r\n          {msgs.length === 0 && (\r\n            <div style={{ color: '#6b7280', fontSize: '.9rem' }}>Try: \"Add a task\", \"Show my tasks\", or ask for help.</div>\r\n          )}\r\n          {msgs.map((m, i) => (\r\n            <div key={i} style={{ display: 'flex', justifyContent: m.role === 'user' ? 'flex-end' : 'flex-start', margin: '.5rem 0' }}>\r\n              <div className=\"border\" style={{ background: m.role === 'user' ? '#111827' : '#ffffff', color: m.role === 'user' ? '#fff' : '#111827', padding: '.5rem .75rem', borderRadius: '.5rem', maxWidth: '85%' }}>\r\n                {m.content}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <form onSubmit={send} className=\"grid\" style={{ gap: '.5rem' }}>\r\n          <textarea className=\"input\" rows={3} placeholder={\"Ask anything, e.g. 'Add a task for today'\"} value={input} onChange={(e) => setInput(e.target.value)} />\r\n          {error && <div style={{ color: 'crimson', fontSize: '.875rem' }}>{error}</div>}\r\n          <button className=\"btn\" disabled={loading}>{loading ? 'Thinking...' : 'Send'}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}